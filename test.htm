<!DOCTYPE html>
<html>
  <head>
   <script type="text/javascript" src="https://apis.google.com/js/api.js"></script>
	</head>
<script>
   	
   	LoadGoogleDrive(true, function(url) {
   		console.log(url)				
      	});
   	
	function LoadGoogleDrive(allFiles, callback)				// LOAD PICKER FOR GOOGLE DRIVE
	{
	  	var pickerApiLoaded=false;
		var oauthToken;
		gapi.load('auth', { 'callback': function() {
				window.gapi.auth.authorize( {
	              	'client_id': "81792849751-1c76v0vunqu0ev9fgqsfgg9t2sehcvn2.apps.googleusercontent.com",
	             	'scope': ['https://www.googleapis.com/auth/drive.readonly'],
	              	'immediate': false }, function(authResult) {
							if (authResult && !authResult.error) {
	          					oauthToken=authResult.access_token;
	          					createPicker();
	          					}
	          				});
				}
			});
		
		gapi.load('picker', {'callback': function() {
				pickerApiLoaded=true;
		        createPicker();
	    	   	}
			});
	
		function createPicker() {
	        if (pickerApiLoaded && oauthToken) {
	           	var view=new google.picker.DocsView().
	           		setOwnedByMe(allFiles).
					setIncludeFolders(true);
	          	var picker=new google.picker.PickerBuilder().
	          		addView(view).
					setOAuthToken(oauthToken).
					setDeveloperKey("AIzaSyAVjuoRt0060MnK_5_C-xenBkgUaxVBEug").
					setCallback(pickerCallback).
					build();
				picker.setVisible(true);
	       		}
	    	}
	
		function pickerCallback(data) {
	        if (data[google.picker.Response.ACTION] == google.picker.Action.PICKED) {
         		var doc=data[google.picker.Response.DOCUMENTS][0];
	      		// name, desc, url, type, id, [ embedUrl ]	
   				// 		type = [ photo, files, doc, document ]
	      		callback(doc)
	       		}
			}
	   
	}	// End closure
    
    
    
    </script>
  </head>
  <body>
   </body>
</html>